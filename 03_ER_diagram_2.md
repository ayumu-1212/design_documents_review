# ER図2 レビュー文章化
## 全体
- 商品が入荷された際のレコードはどうなりますか。

## 管理者
- エンドユーザ、商品とリレーションがありますが必要でしょうか。

## エンドユーザ
- 配送先情報は各ユーザ複数登録できて購入時に選択できるようにしたいです。
- ユーザidはテーブル名がエンドユーザなのであれば、エンドユーザidが望ましいです。
- 名前を保存するカラムがありません。

## 商品
- 商品の発売日を保存するカラムがありません。
- 在庫数カラムがありますが、入荷数 - 購入した数で計算でき、入荷するごとにレコードを更新するのではなく、他テーブルの情報から計算できる仕様だと間違いが起きないです。
- ディスク枚数のカラムは必要なのでしょうか。
- ステータスの"取り扱い"という文言では、販売中か売り切れなのかが分かりづらいです。

## ディスク
- FKで子モデルのidを持っているのでディスク1つに対して商品を複数持てるようになってしまっていますが、これでよろしいのでしょうか。
- ディスクテーブルにトラック.Noは必要でしょうか。

## 曲名
- FKがなく、曲1つに対してディスクを複数持てるようになってしまっていますが、これでよろしいのでしょうか。
- 曲順はどのようにして保存しますか。

## カートアイテム
- PKがありません。
- 小計金額カラムは商品の値段を足せば算出できるので必要ありません。

## 購入詳細
- テーブル名は管理者視点でつけましょう。
- 商品テーブルidがないので商品の情報を引っ張ってくることができていません。このままでは何の商品を購入したかが分かりません。
- 購入時の金額を保存するカラムがありません。このままでは、購入時から金額の変更があった際に、購入履歴側も書き換わってしまいます。購入時の金額も持てるようにしてください。

## 購入
- テーブル名は管理者視点でつけましょう。
- 購入詳細idがありますが、このままでは1つの購入情報に対して複数の支払い方法、送付先住所がある状態になってしまっています。
- 購入日カラムは必要でしょうか。

## ジャンル
- ジャンルは何を指しますか。

## レーベル
- レーベルは何を指しますか。

-------------------------------------------------------------------------------------------------------
# ER図2 問題抽出
## 全体
- 商品の入荷がない

## 曲名
- 曲順カラムがありません。
- 曲とディスクの親子関係が逆、FKでディスクIDが必要

## ディスク
- 商品との親子関係が逆
- トラックNo.は曲名テーブルに持たせる

## 商品
- FKでディスクIDは持たない
- 発売日がない

## エンドユーザ
- 配送先はテーブルでもつ
- ユーザIDをエンドユーザIDにする
- 名前のカラムがない

## 管理者
- エンドユーザと商品のリレーションは必要ない

## カートアイテム
- PKがない
- 小計金額は商品の値段を足せば出せるのでカラムを作る必要はない

## 購入詳細
- 商品とのリレーションがないので商品の情報が持ってこれない
- 購入との親子関係が逆
- 管理者側からすると、受注詳細などにする

## 購入
- テーブル名がわかりづらいので受注などにする
- 購入日はレコードが作成された日付を入れればいいので、必要ない
 

## ジャンル
- ジャンルは何をさすか

## レーベル
- レーベルは何をさすか



# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。

# 研修担当レビュー
再提出は不要です。
「購入」テーブルに関して、わかりづらいから「受注」にするのではなく、あくまで管理者視点の用語にすべきだけです。